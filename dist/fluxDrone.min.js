!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";e.exports={getID:function(){return Date.now()}}},function(e,t,n){"use strict";e.exports={tempEngine:function(e,t){var n=e;return e.match(/{{(.*?)}}/g).forEach(function(e){for(var r=null,i=(e=(e=e.replace("{{","")).replace("}}","")).trim().split("."),o=t,a=0;a<i.length;a++)o=o[i[a]];void 0!==o&&(r=o),n=n.replace("{{"+e+"}}",r)}),n}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(1).tempEngine,o=n(0).getID,a=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._getData=n.get.bind(n),this._temp=r,this._events=i,this._node=document.querySelector(t),this._srcNode=document.createElement("div"),this._init()}return r(e,[{key:"update",value:function(){var e=this,t=Object.assign({},this._getData());Object.keys(t).filter(function(n){return t[n]!==e._curState[n]}).forEach(function(n){return e._updateNodeAll(n,t[n])}),this._curState=Object.assign({},t)}},{key:"_init",value:function(){var e=this._getData();this._srcNode.innerHTML=this._temp,this._node.innerHTML=i(this._temp,e),this._curState=Object.assign({},e),this._initEvents(this._node),this._buildDepsTree()}},{key:"_updateNodeAll",value:function(e,t){var n=this;this._depsTree.forEach(function(t){if(-1!==t.keys.indexOf(e)){var r=t.parent,i=n._updateNode(t.temp);t.real=n._replaceNode(t.real,i),n._initEvents(r)}})}},{key:"_updateNode",value:function(e){var t={tempHTML:e.outerHTML,wrap:document.createElement("div")};return t.wrap.innerHTML=i(t.tempHTML,this._getData()),t.wrap.firstChild}},{key:"_replaceNode",value:function(e,t){var n=o();t.setAttribute("data-key",n),e.replaceWith(t);var r=this._node.querySelector('[data-key="'+n+'"]');return r.removeAttribute("data-key"),r}},{key:"_buildDepsTree",value:function(){var e=[],t=this._srcNode.querySelectorAll("[data-deps]");this._node.querySelectorAll("[data-deps]").forEach(function(n,r){var i=n.getAttribute("data-deps").split(",");e.push({keys:i.map(function(e){return e.trim()}),real:n,temp:t[r]})}),this._depsTree=e}},{key:"_initEvents",value:function(e){var t=this;e&&e.querySelectorAll("[data-action]").forEach(function(e){e.getAttribute("data-action").split(",").forEach(function(n){var r=n.split("=");e.addEventListener(r[0],t._events[r[1]])})})}}]),e}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._observers=n||[],this._state=t||{},this._actionsWithResponse={}}return r(e,[{key:"get",value:function(){return this._state}},{key:"setState",value:function(e){this._state=e}},{key:"reduce",value:function(e){var t=this._actionsWithResponse;t.hasOwnProperty(e.type)&&(t[e.type].call(this,e.payload),this._notifyObservers())}},{key:"subscribeView",value:function(e){return e.update&&this._observers.push(e.update.bind(e)),this}},{key:"defineResponse",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._actionsWithResponse[t]=e[t]);return this}},{key:"_notifyObservers",value:function(){this._observers.forEach(function(e){return e()})}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks=[],this._logsList=[],this._isConsoleLog=n||!1,this._logEl=t||null}return r(e,[{key:"register",value:function(e){if(!e||!e.reduce)throw Error("You have to pass correct store object!");this._callbacks.push(e.reduce.bind(e))}},{key:"dispatch",value:function(e){this._callbacks.forEach(function(t){return t(e)}),this._pushLog(e)}},{key:"_pushLog",value:function(e){var t={date:Date.now(),type:e.type};this._logsList.push(t),this._printLog(t)}},{key:"_printLog",value:function(e){null!==this._logEl&&this._printLogToDOM(e),this._isConsoleLog&&this._printLogToConsole(e)}},{key:"_printLogToDOM",value:function(e){var t=document.createElement("p");t.innerText=this._genLogString(e),this._logEl.appendChild(t)}},{key:"_printLogToConsole",value:function(e){console.log(this._genLogString(e))}},{key:"_genLogString",value:function(e){return new Date(e.date).toISOString()+" Type: "+e.type}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=n(4),i={Store:n(3),Dispatcher:r,View:n(2)};window.FluxDrone=i,e.exports=i}]);